---
class: text-[1rem] px-2
---

<div class="pl-12">

# 動作フロー
</div>

<br/>
<br/>

<div class="grid grid-cols-[1fr,400px] gap-2 h-7/10">
<div class="flex h-full items-center">
<img src="/img/systemd-cd_flow.png" />
</div>
<div class="flex flex-col h-full justify-center">
  <div class="flex items-center gap-3">
    <span class="text-3xl">↓</span>
    マニフェストファイルを指定して実行
  </div>
  <div class="flex items-center gap-4 ml-1 mt-3" v-click>
    <svg width="20" height="28" viewBox="0 0 30 42" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.9999 9.99992V15.4999L22.3333 8.16658L14.9999 0.833252V6.33325C6.89658 6.33325 0.333252 12.8966 0.333252 20.9999C0.333252 23.8783 1.17658 26.5549 2.60658 28.8099L5.28325 26.1333C4.45825 24.6116 3.99992 22.8516 3.99992 20.9999C3.99992 14.9316 8.93159 9.99992 14.9999 9.99992ZM27.3933 13.1899L24.7166 15.8666C25.5232 17.4066 25.9999 19.1483 25.9999 20.9999C25.9999 27.0683 21.0683 31.9999 14.9999 31.9999V26.4999L7.66658 33.8333L14.9999 41.1666V35.6666C23.1033 35.6666 29.6666 29.1033 29.6666 20.9999C29.6666 18.1216 28.8233 15.4449 27.3933 13.1899Z" fill="white"/>
    </svg>
    定期的に Git のリポジトリを Polling する（常駐）
  </div>

  <br/>
  <br/>

  <div class="ml-4">
  <div v-click>
    → &nbsp; Git リポジトリの <span class="text-yellow-500">更新を検知</span>
  </div>

  <br/>

  <div v-click>
    → &nbsp; 新規バージョンで <span class="text-green-500">テスト・ビルド・インストール</span>
  </div>

  <br/>

  <div v-click>
    → &nbsp; systemd の <span class="text-green-500">ユニットファイル を更新</span>
  </div>

  <br/>

  <div v-click>
    → &nbsp; systemd で <span class="text-green-500">アプリケーション を実行</span>
  </div>

  <br/>
  <br/>

  <div v-click>
    → &nbsp; いずれかの処理に失敗した場合は<span class="text-red-500">ロールバック</span>
  </div>
  </div>

  <br/>
  <br/>
</div>
</div>

<div
  class="absolute bottom-[1rem] right-[1rem] text-[1rem]"
>
  <SlideCurrentNo /> / <SlidesTotal />
</div>